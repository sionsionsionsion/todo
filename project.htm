<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
        import { getDatabase, ref, set, push, onValue, remove, get, child } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBAELEarByjgZmNHTGTX0nt_EjuqBo1zrM",
            authDomain: "project-1680b.firebaseapp.com",
            databaseURL: "https://project-1680b-default-rtdb.firebaseio.com",
            projectId: "project-1680b",
            storageBucket: "project-1680b.appspot.com",
            messagingSenderId: "19750102296",
            appId: "1:19750102296:web:809b818ffe1e21144d6a6d"
        };
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        pysubmit.addEventListener('click', (e)=>{
            if(document.getElementById('name').value != '' && document.getElementById('phone').value != ''  && document.getElementById('agree').checked==true){
                console.log('ok');                               
                            
                set(ref(database, '/'+document.getElementById('phone').value+'/'), {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                after_school: 'py'
                            
                });
                document.getElementById('name').value='';
                document.getElementById('phone').value='';
            }
            else{
                console.log('NO');
                alert('빠진 내용이 있습니다');
            }
                
        });

        jssubmit.addEventListener('click', (e)=>{
            if(document.getElementById('name').value != '' && document.getElementById('phone').value != ''  && document.getElementById('agree').checked==true){
                console.log('ok');                               
                            
                set(ref(database, '/'+document.getElementById('phone').value+'/'), {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                after_school: 'js'
                            
                });
                document.getElementById('name').value='';
                document.getElementById('phone').value='';
            }
            else{
                console.log('NO');
                alert('빠진 내용이 있습니다');
            }
                
        });

        Csubmit.addEventListener('click', (e)=>{
            if(document.getElementById('name').value != '' && document.getElementById('phone').value != ''  && document.getElementById('agree').checked==true){
                console.log('ok');                               
                            
                set(ref(database, '/'+document.getElementById('phone').value+'/'), {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                after_school: 'C'
                            
                });
                document.getElementById('name').value='';
                document.getElementById('phone').value='';
            }
            else{
                console.log('NO');
                alert('빠진 내용이 있습니다');
            }
                
        });

        
    </script>
</head>
<body>
    <h2>방과후 시스템</h2>
    <div>
        <div class="alert alert-primary" role="alert"><b>대제중학교 방과후 관리시스템을 위한 개인정보 수집 안내입니다.</b></div>
        <div>1.수집목적: 방과후 프로그램 신청관리</div>
        <div>2.수집내용: 이름,전화번호</div>
        <div>3.수집이용기간: 방과후 학교가 끝날때까지</div>
        <div>본 수집/이용동의를 거부할수 있습니다.단 거부시 방과후 학교 신청이 제한됩니다.</div>
        <div>1인당 1개만 신청가능</div>
    
    </div>
    <h6><b>참가정보</b></h6>
    <input type="text" placeholder="이름" id="name"class="form-control">
    <br>
    <input type="text" placeholder="전화번호" id="phone" class="form-control">
    <br>
    <input type="checkbox" id="agree">
    <label for="agree">개인정보 수집및 사용에 동의 합니다.</label>
    <br>
    python
    <button type="button" id="pysubmit" class="btn btn-primary">신청하기-></button>
    <br>
    js
    <button type="button" id="jssubmit" class="btn btn-primary">신청하기-></button>
    <br>
    C++
    <button type="button" id="Csubmit" class="btn btn-primary">신청하기-></button>
    <br>

</body>
</html>